<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Email: New Submission to Admin -->
        <record id="email_template_new_submission" model="mail.template">
            <field name="name">Boat: New Submission for Approval</field>
            <field name="model_id" ref="model_boat_listing"/>
            <field name="subject">New Boat Listing Pending Approval - ${object.name}</field>
            <field name="email_from">${object.company_id.email or user.email}</field>
            <field name="email_to">${object.create_uid.email}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
                    <h2 style="color: #2c3e50;">New Boat Listing Submitted</h2>
                    <p>Hello Admin,</p>
                    <p>A new boat listing has been submitted for your approval:</p>
                    
                    <div style="background: #f8f9fa; padding: 15px; margin: 20px 0; border-left: 4px solid #007bff;">
                        <p><strong>Boat Name:</strong> ${object.name}</p>
                        <p><strong>Owner:</strong> ${object.owner_id.name}</p>
                        <p><strong>Region:</strong> ${object.region_id.name}</p>
                        <p><strong>Category:</strong> ${object.category_id.name}</p>
                        <p><strong>Guest Capacity:</strong> ${object.guest_capacity}</p>
                        <p><strong>Price:</strong> â‚¹${object.rent_amount} per ${object.pricing_period}</p>
                    </div>
                    
                    <p>Please review and approve/reject this listing at your earliest convenience.</p>
                    
                    <p style="margin-top: 30px;">
                        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=boat.listing&amp;view_type=form" 
                           style="background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                            Review Listing
                        </a>
                    </p>
                    
                    <p style="color: #6c757d; font-size: 12px; margin-top: 30px;">
                        This is an automated notification from the Boat Platform.
                    </p>
                </div>
            </field>
        </record>
        
        <!-- Email: Approval Notification to Owner -->
        <record id="email_template_listing_approved" model="mail.template">
            <field name="name">Boat: Listing Approved</field>
            <field name="model_id" ref="model_boat_listing"/>
            <field name="subject">Great News! Your Boat Listing has been Approved</field>
            <field name="email_to">${object.owner_id.email}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
                    <h2 style="color: #28a745;">ðŸŽ‰ Your Boat is Now Live!</h2>
                    <p>Hello ${object.owner_id.name},</p>
                    <p>Congratulations! Your boat listing has been approved and is now visible to travelers.</p>
                    
                    <div style="background: #d4edda; padding: 15px; margin: 20px 0; border-left: 4px solid #28a745;">
                        <p><strong>${object.name}</strong></p>
                        <p>Your boat is now searchable in <strong>${object.region_id.name}</strong> region.</p>
                    </div>
                    
                    <p><strong>Next Steps:</strong></p>
                    <ul>
                        <li>Monitor your bookings in the owner dashboard</li>
                        <li>Keep your listing information up to date</li>
                        <li>Respond promptly to booking inquiries</li>
                    </ul>
                    
                    <p style="margin-top: 30px;">
                        <a href="${object.get_base_url()}/my/boats" 
                           style="background: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                            View Dashboard
                        </a>
                    </p>
                    
                    <p style="margin-top: 20px;">Best of luck with your bookings!</p>
                </div>
            </field>
        </record>
        
        <!-- Email: Rejection Notification to Owner -->
        <record id="email_template_listing_rejected" model="mail.template">
            <field name="name">Boat: Listing Rejected</field>
            <field name="model_id" ref="model_boat_listing"/>
            <field name="subject">Update Required - Boat Listing Needs Revision</field>
            <field name="email_to">${object.owner_id.email}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
                    <h2 style="color: #dc3545;">Listing Update Required</h2>
                    <p>Hello ${object.owner_id.name},</p>
                    <p>Thank you for submitting your boat listing. However, we need you to make some revisions before we can approve it.</p>
                    
                    <div style="background: #f8d7da; padding: 15px; margin: 20px 0; border-left: 4px solid #dc3545;">
                        <p><strong>Boat Name:</strong> ${object.name}</p>
                        <p><strong>Reason for Rejection:</strong></p>
                        <p>${object.rejection_reason or 'Please review and update your listing information.'}</p>
                    </div>
                    
                    <p>Please update your listing and resubmit for approval.</p>
                    
                    <p style="margin-top: 30px;">
                        <a href="${object.get_base_url()}/my/boat/${object.id}/edit" 
                           style="background: #dc3545; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                            Edit Listing
                        </a>
                    </p>
                </div>
            </field>
        </record>
        
        <!-- Email: Booking Confirmation -->
        <record id="email_template_booking_confirmation" model="mail.template">
            <field name="name">Boat: Booking Confirmation</field>
            <field name="model_id" ref="model_boat_booking"/>
            <field name="subject">Booking Confirmed - ${object.name}</field>
            <field name="email_to">${object.guest_id.email}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
                    <h2 style="color: #007bff;">ðŸŽŠ Booking Confirmed!</h2>
                    <p>Hello ${object.guest_id.name},</p>
                    <p>Your boat booking has been confirmed. Get ready for an amazing experience!</p>
                    
                    <div style="background: #cfe2ff; padding: 20px; margin: 20px 0; border-left: 4px solid #007bff;">
                        <h3 style="margin-top: 0;">Booking Details</h3>
                        <p><strong>Booking Reference:</strong> ${object.name}</p>
                        <p><strong>Boat:</strong> ${object.boat_id.name}</p>
                        <p><strong>Location:</strong> ${object.boat_id.region_id.name}</p>
                        <p><strong>Boarding Point:</strong> ${object.boat_id.boarding_point}</p>
                        <hr/>
                        <p><strong>Check-in:</strong> ${object.start_date.strftime('%d %B %Y, %I:%M %p')}</p>
                        <p><strong>Check-out:</strong> ${object.end_date.strftime('%d %B %Y, %I:%M %p')}</p>
                        <p><strong>Duration:</strong> ${object.duration_hours} hours</p>
                        <p><strong>Guests:</strong> ${object.num_guests}</p>
                        <hr/>
                        <p><strong>Amount Paid:</strong> â‚¹${'{:,.2f}'.format(object.net_payable)}</p>
                        <p><strong>Transaction ID:</strong> ${object.transaction_id or 'Processing...'}</p>
                    </div>
                    
                    <p><strong>Important Information:</strong></p>
                    <ul>
                        <li>Arrive 15 minutes before check-in time</li>
                        <li>Carry a valid ID proof</li>
                        <li>Emergency Contact: ${object.boat_id.emergency_number}</li>
                    </ul>
                    
                    <p style="margin-top: 30px;">
                        <a href="${object.get_base_url()}/my/bookings" 
                           style="background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                            View Booking Details
                        </a>
                    </p>
                    
                    <p style="margin-top: 20px;">Have a wonderful trip!</p>
                </div>
            </field>
        </record>
        
        <!-- Email: Booking Cancelled -->
        <record id="email_template_booking_cancelled" model="mail.template">
            <field name="name">Boat: Booking Cancelled</field>
            <field name="model_id" ref="model_boat_booking"/>
            <field name="subject">Booking Cancelled - ${object.name}</field>
            <field name="email_to">${object.guest_id.email}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
                    <h2 style="color: #ffc107;">Booking Cancelled</h2>
                    <p>Hello ${object.guest_id.name},</p>
                    <p>Your booking has been successfully cancelled.</p>
                    
                    <div style="background: #fff3cd; padding: 15px; margin: 20px 0; border-left: 4px solid #ffc107;">
                        <p><strong>Booking Reference:</strong> ${object.name}</p>
                        <p><strong>Boat:</strong> ${object.boat_id.name}</p>
                        <p><strong>Cancellation Date:</strong> ${object.cancellation_date.strftime('%d %B %Y') if object.cancellation_date else ''}</p>
                        <hr/>
                        <p><strong>Original Amount:</strong> â‚¹${'{:,.2f}'.format(object.net_payable)}</p>
                        <p><strong>Refund Amount:</strong> â‚¹${'{:,.2f}'.format(object.refund_amount or 0)}</p>
                        <p style="font-size: 12px; color: #856404;">(10% handling fee deducted as per cancellation policy)</p>
                    </div>
                    
                    <p>The refund will be processed within 5-7 business days to your original payment method.</p>
                    
                    <p style="margin-top: 30px;">We hope to serve you again soon!</p>
                </div>
            </field>
        </record>
        
    </data>
</odoo>