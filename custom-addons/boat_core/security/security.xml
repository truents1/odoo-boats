<odoo>
  <!-- Portal users see and edit only their own boats -->
  <record id="rule_boat_portal_own" model="ir.rule">
    <field name="name">Boat: portal owns only</field>
    <field name="model_id" ref="model_boat_boat"/>
    <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
    <field name="domain_force">[("owner_id", "=", user.id)]</field>
  </record>
  <!-- Portal users see and edit only their own images -->
  <record id="rule_boat_image_portal_own" model="ir.rule">
    <field name="name">BoatImage: portal owns only</field>
    <field name="model_id" ref="model_boat_boat_image"/>
    <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
    <field name="domain_force">[("boat_id.owner_id", "=", user.id)]</field>
  </record>
</odoo>
